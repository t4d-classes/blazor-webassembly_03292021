@using ToolsAppDemo.Shared
@using CarFormView = ToolsAppDemo.Client.ViewModels.CarForm

<form>
  <div>
    <label>
      Make
      <input type="text" @bind="carForm.Make" />
    </label>
  </div>
  <div>
    <label>
      Model
      <input type="text" @bind="carForm.Model" />
    </label>
  </div>
  <div>
    <label>
      Year
      <input type="number" @bind="carForm.Year" />
    </label>
  </div>
  <div>
    <label>
      Color
      <input type="text" @bind="carForm.Color" />
    </label>
  </div>
  <div>
    <label>
      Price
      <input type="number" @bind="carForm.Price" />
    </label>
  </div>
  <button type="button" @onclick="submitCar">@ButtonText</button>
</form>

@code {

  [Parameter]
  public string ButtonText { get; set; } = "Submit Color";

  [Parameter]
  public EventCallback<Car> OnSubmitCar { get; set; }

  private CarFormView carForm = new CarFormView();

  private async Task submitCar() {

    var car = new Car() {
      Make = carForm.Make,
      Model = carForm.Model,
      Year = carForm.Year,
      Color = carForm.Color,
      Price = carForm.Price,
    };

    await OnSubmitCar.InvokeAsync(car);

    carForm = new CarFormView();
  }


}